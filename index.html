<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Australian Police Drug Test Dashboard</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <!-- TOP HEADER -->
    <header class="topbar">
      <a href="index.html" class="home-btn" aria-label="Go to homepage">
        <img src="image/home.svg" alt="Home" class="home-icon" />
      </a>

      <div class="brand-block">
        <h1 class="brand-title">Australian Police Drug Test Dashboard</h1>
        <p class="brand-sub">
          Roadside drug test positives from BITRE (2008–2024)
        </p>
      </div>
      <div class="top-right">
        <span class="tag">COS30045</span>
      </div>
    </header>

    <!-- NAV / FILTER BAR -->
    <nav class="nav-bar">
      <div class="nav-left">
        <span class="nav-label">Years:</span>
        <div id="yearPills" class="pill-group">
          <!-- JS will generate toggle pills -->
        </div>
      </div>
      <div class="nav-right">
        <div class="filter-group">
          <label class="nav-label">Jurisdiction</label>
          <select id="jurSelect" class="nav-input" multiple></select>
        </div>
        <div class="filter-group">
          <label class="nav-label">Drug type</label>
          <select id="drugSelect" class="nav-input" multiple></select>
        </div>
        <div class="filter-group">
          <label class="nav-label">Sort locations</label>
          <select id="sortSelect" class="nav-input">
            <option value="desc" selected>Highest first</option>
            <option value="asc">Lowest first</option>
            <option value="alpha">A → Z</option>
          </select>
        </div>
        <button id="resetBtn" class="btn-secondary">Clear</button>
      </div>
    </nav>

   <main class="dashboard">
      <!-- Chart 1 – Pareto -->
      <section class="card" id="card1">
        <h2 class="card-title">Positive tests by jurisdiction</h2>
        <p class="card-sub">
          Total positive roadside drug test counts by state and territory from
          2008–2024.
        </p>
        <div id="chart1" class="chart-container"></div>
        <div id="chart1-info" class="chart-info">
          Click a bar to see the total for that jurisdiction.
        </div>
      </section>

      <!-- Chart 2 – Drug type map -->
      <section class="card" id="card2">
        <h2 class="card-title">Drug types most frequently detected</h2>
        <p class="card-sub">
          Each state is coloured by the drug type (e.g. cannabis, amphetamine,
          methylamphetamine) with the highest number of positive roadside tests.
        </p>
        <div id="chart2" class="chart-container"></div>
        <div id="chart2-info" class="chart-info">
          Click a state (e.g. NT, SA) to see its top drug and count.
        </div>
      </section>

      <!-- Chart 3 – Detection methods -->
      <section class="card" id="card3">
        <h2 class="card-title">Detection methods contribution over time</h2>
        <p class="card-sub">
          How Stage&nbsp;1 (Indicator), Stage&nbsp;2 (Confirmatory), and
          Stage&nbsp;3 (Laboratory) detection methods contribute to positive
          outcomes from 2008–2024.
        </p>
        <div id="chart3" class="chart-container"></div>
        <div id="chart3-info" class="chart-info">
          Click on the chart to see the breakdown for a specific year.
        </div>
      </section>
    </main>


      Source: BITRE road safety enforcement (cleaned). Built for Australian police drug test visualisation.
    </footer>

    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="js/chart1.js"></script> <!-- Q3 -->
    <script src="js/chart2.js"></script> <!-- Q4 -->
    <script src="js/chart3.js"></script> <!-- Q5 -->


  </body>
</html>
